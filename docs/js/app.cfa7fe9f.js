(function(t){function e(e){for(var o,s,i=e[0],c=e[1],l=e[2],u=0,g=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&g.push(n[s][0]),n[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(g.length)g.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},n={app:0},r=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"4922b3e5"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=n[t]=[e,o]}));e.push(a[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"5c0b":function(t,e,a){"use strict";var o=a("e332"),n=a.n(o);n.a},"66ac":function(t,e,a){"use strict";var o=a("b0b7"),n=a.n(o);n.a},"84f22":function(t,e,a){"use strict";var o=a("c9dc"),n=a.n(o);n.a},b0b7:function(t,e,a){},c9dc:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"hero-head"},[a("nav",{staticClass:"main-nav navbar "},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-start"},[t._m(0),a("a",{staticClass:"navbar-item is-active",on:{click:function(e){return t.$modal.push("config")}}},[t._v("Config")])])])])]),a("div",{staticClass:"container"},[a("router-view")],1),a("modal",{attrs:{name:"config"}},[a("config")],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"navbar-item",attrs:{href:"https://jenil.github.io/bulmaswatch/"}},[a("h1",{staticClass:"title is-5"},[t._v("Toggl-backlog-aggregator")])])}],s=a("d225"),i=a("308d"),c=a("6bb5"),l=a("4e2b"),u=a("9ab4"),p=a("60a3"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"config"},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"section"},[a("h2",{staticClass:"title"},[t._v(" Toggl ")]),a("div",{staticClass:"field"},[t._m(1),a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.togglApiToken,expression:"togglApiToken"}],staticClass:"input",attrs:{type:"text",placeholder:"abcdefghijklmn "},domProps:{value:t.togglApiToken},on:{input:function(e){e.target.composing||(t.togglApiToken=e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Workspace ID")]),a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleWorkSpaceId,expression:"toggleWorkSpaceId"}],staticClass:"input",attrs:{type:"text",placeholder:"123456"},domProps:{value:t.toggleWorkSpaceId},on:{input:function(e){e.target.composing||(t.toggleWorkSpaceId=e.target.value)}}})])])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"section"},[a("h2",{staticClass:"title"},[t._v(" Backlog ")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("workspace URL")]),a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.backlogWorkSpaceURL,expression:"backlogWorkSpaceURL"}],staticClass:"input",attrs:{type:"text",placeholder:"https://xx.backlog.com"},domProps:{value:t.backlogWorkSpaceURL},on:{input:function(e){e.target.composing||(t.backlogWorkSpaceURL=e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("API token")]),a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.backlogApiToken,expression:"backlogApiToken"}],staticClass:"input",attrs:{type:"text",placeholder:"abcdefghijklmn "},domProps:{value:t.backlogApiToken},on:{input:function(e){e.target.composing||(t.backlogApiToken=e.target.value)}}})])])])])]),a("div",{staticClass:"section"},[a("h2",{staticClass:"title"},[t._v(" Common ")]),a("label",{staticClass:"label"},[t._v("period")]),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"input",attrs:{type:"number",placeholder:"2019"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}})]),a("p",{staticClass:"control"},[a("span",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.period,expression:"period"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.period=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"former"}},[t._v("上期")]),a("option",{attrs:{value:"later"}},[t._v("下期")])])])])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.useLocalStorage,expression:"useLocalStorage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.useLocalStorage)?t._i(t.useLocalStorage,null)>-1:t.useLocalStorage},on:{change:function(e){var a=t.useLocalStorage,o=e.target,n=!!o.checked;if(Array.isArray(a)){var r=null,s=t._i(a,r);o.checked?s<0&&(t.useLocalStorage=a.concat([r])):s>-1&&(t.useLocalStorage=a.slice(0,s).concat(a.slice(s+1)))}else t.useLocalStorage=n}}}),t._v(" use local storage.\n          ")])])])])]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary",on:{click:t.submit}},[t._v("OK")])])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Config")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"label"},[t._v("API token "),a("a",{attrs:{href:"https://www.toggl.com/app/profile",target:"_blank",rel:"noopener noreferrer"}},[t._v("*ref.")])])}],h=a("b0b4"),f=function(){function t(){Object(s["a"])(this,t)}return Object(h["a"])(t,[{key:"useLocalStorage",set:function(t){window.localStorage.useLocalStorage=t?"on":"off"},get:function(){var t=window.localStorage.useLocalStorage;return"on"===t}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(),v=f.instance,b=v,k=(a("7f7f"),a("c5f6"),a("96cf"),a("3b8d")),m=(a("ac6a"),a("6fc5")),y=a("2f62"),_=a("bfa9");o["a"].use(y["a"]);var j=new _["a"]({storage:b.useLocalStorage?window.localStorage:window.sessionStorage,key:"toggl-backlog-aggregator-state"});var w=new y["a"].Store({plugins:[j.plugin]}),O=w,C=a("bc3a"),S=a.n(C),D=(a("28a5"),"backlog"),R=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.workSpaceURL="",t.type="details",t.request={},t.apiToken="",t.response=null,t.loading=!1,t}return Object(l["a"])(e,t),Object(h["a"])(e,[{key:"setRequest",value:function(t){this.request=t}},{key:"updateRequest",value:function(t){Object.assign(this.request,t)}},{key:"setApiToken",value:function(t){this.apiToken=t}},{key:"setResponse",value:function(t){this.response=t}},{key:"setAllState",value:function(t){Object.assign(this,t)}},{key:"setLoading",value:function(t){this.loading=t}},{key:"setWrokSpaceURL",value:function(t){this.workSpaceURL=t}},{key:"recover",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e[D],a&&this.setAllState(a);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refleshAuth",value:function(){var t=this;this.setLoading(!0),S.a.get("https://Backlog.com/reports/api/v2/details",{headers:{Authorization:"Basic ".concat(btoa(this.apiToken+":api_token"))},params:this.request}).then((function(e){t.setResponse(e.data)})).catch((function(e){throw t.setResponse(null),e})).finally((function(){t.setLoading(!1)}))}},{key:"fetchSpace",value:function(){var t=this;this.setLoading(!0),this.workSpaceURL&&this.apiToken&&S.a.get(this.workSpaceURL+"/api/v2/space",{params:{apiKey:this.apiToken}}).then((function(e){t.setResponse(e.data)})).catch((function(e){throw t.setResponse(null),e})).finally((function(){t.setLoading(!1)}))}},{key:"getResponse",get:function(){return this.response}},{key:"getRequest",get:function(){return this.request}},{key:"getApiToken",get:function(){return this.apiToken}},{key:"getLoading",get:function(){return this.loading}},{key:"getWorkSpaceURL",get:function(){return this.workSpaceURL}}]),e}(m["d"]);Object(u["a"])([m["c"]],R.prototype,"setRequest",null),Object(u["a"])([m["c"]],R.prototype,"updateRequest",null),Object(u["a"])([m["c"]],R.prototype,"setApiToken",null),Object(u["a"])([m["c"]],R.prototype,"setResponse",null),Object(u["a"])([m["c"]],R.prototype,"setAllState",null),Object(u["a"])([m["c"]],R.prototype,"setLoading",null),Object(u["a"])([m["c"]],R.prototype,"setWrokSpaceURL",null),Object(u["a"])([m["a"]],R.prototype,"recover",null),Object(u["a"])([m["a"]],R.prototype,"refleshAuth",null),Object(u["a"])([m["a"]],R.prototype,"fetchSpace",null),R=Object(u["a"])([Object(m["b"])({dynamic:!0,store:O,name:D,namespaced:!0})],R);var T=Object(m["e"])(R),L=function(){function t(e){Object(s["a"])(this,t),this.raw=e}return Object(h["a"])(t,[{key:"fetchBacklogStatus",value:function(){var t=this;console.log("fetchBacklogStatus"),T.getApiToken&&"-"!==this.backlogProjectID&&"-"!==this.backlogProjectName&&S.a.get(T.getWorkSpaceURL+"/api/v2/issues/"+this.backlogProjectName+"-"+this.backlogProjectID,{params:{apiKey:T.getApiToken}}).then((function(e){console.log(e),t.backlogData=e.data})).catch((function(e){t.backlogData=null,console.log(e)}))}},{key:"backlogProjectName",get:function(){return 1===this.raw.description.split("-").length?"-":this.raw.description.split("-")[0]}},{key:"timeOver",get:function(){return!!this.backlogData&&this.raw.dur/1e3/3600>Number(this.backlogData.estimatedHours)}},{key:"timeOverTwice",get:function(){return!!this.backlogData&&this.raw.dur/1e3/3600>2*Number(this.backlogData.estimatedHours)}},{key:"noEstimatedHours",get:function(){return!this.backlogData||!this.backlogData.estimatedHours}},{key:"backlogProjectID",get:function(){var t=this.raw.description.split("-")[1];return t?t.split(" ")[0]:"-"}},{key:"backlogURL",get:function(){return"-"===this.backlogProjectName||"-"===this.backlogProjectID?null:"https://ediplex.backlog.jp/view/".concat(this.backlogProjectName,"-").concat(this.backlogProjectID)}},{key:"parentURL",get:function(){return"this"===this.parent?null:"https://ediplex.backlog.jp/view/".concat(this.parent)}},{key:"parent",get:function(){return this.backlogData?this.backlogData.parentIssueId?this.backlogData.parentIssueId:"this":"-"}},{key:"ninnichi",get:function(){return(this.raw.dur/1e3/3600).toFixed(1)+"時間"}}]),t}(),P="toggl",A=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.type="details",t.request={user_agent:"ediplex",workspace_id:""},t.dataObject=[],t.apiToken="",t.response=null,t.loading=!1,t.year="2019",t.period="former",t._formatData={},t}return Object(l["a"])(e,t),Object(h["a"])(e,[{key:"setRequest",value:function(t){this.request=t}},{key:"updateRequest",value:function(t){Object.assign(this.request,t)}},{key:"setApiToken",value:function(t){this.apiToken=t}},{key:"setResponse",value:function(t){this.response=t;var e=[];t?(t.data.forEach((function(t){var a=new L(t);e.push(a)})),this.dataObject?this.dataObject=this.dataObject.concat(e):this.dataObject=e):(this.dataObject=[],this._formatData={})}},{key:"setAllState",value:function(t){Object.assign(this,t)}},{key:"setLoading",value:function(t){this.loading=t}},{key:"setYear",value:function(t){this.year=t}},{key:"setPeriod",value:function(t){this.period=t}},{key:"concatData",value:function(t){this.response?this.response.data=this.response.data.concat(t.data):this.response=t;var e=[];t.data.forEach((function(t){var a=new L(t);e.push(a)})),this.dataObject?this.dataObject=this.dataObject.concat(e):this.dataObject=e}},{key:"activateInstance",value:function(t){for(var e in t)for(var a in t[e])if(t[e][a]){var o=t[e][a],n=new L(o.raw);n.backlogData=o.backlogData,this._formatData[e][a]=n}}},{key:"setFormattedData",value:function(){console.log("setFormattedData");var t=this.dataObject;if(!t)return{};var e={};t.forEach((function(t){"-"!==t.backlogProjectID||"-"!==t.backlogProjectName?(e[t.backlogProjectName]||(e[t.backlogProjectName]={}),e[t.backlogProjectName][t.backlogProjectID]?(console.log(t.backlogProjectName),console.log(t.backlogProjectID),console.log(e[t.backlogProjectName][t.backlogProjectID].raw.dur/1e3/3600),console.log(t.raw.dur/1e3/3600),e[t.backlogProjectName][t.backlogProjectID].raw.dur=t.raw.dur+e[t.backlogProjectName][t.backlogProjectID].raw.dur):e[t.backlogProjectName][t.backlogProjectID]=t):(e.noProject||(e.noProject={}),e.noProject[t.raw.description]?e.noProject[t.raw.description].raw.dur=t.raw.dur+e.noProject[t.raw.description].raw.dur:e.noProject[t.raw.description]=t)})),this._formatData=e}},{key:"recover",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e[P],a&&(this.setAllState(a),this.activateInstance(a._formatData));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"doRequest",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,a,o,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=function(){return r=Object(k["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(o),console.log("start callEachPage"),o.updateRequest({page:e}),t.next=5,new Promise((function(t){return setTimeout(t,1e3)}));case 5:S.a.get("https://toggl.com/reports/api/v2/details",{headers:{Authorization:"Basic ".concat(btoa(o.apiToken+":api_token"))},params:o.request}).then((function(t){console.log(t),a+=t.data.per_page;var r=t.data.total_count;o.concatData(t.data),a<r?n(e+1,a):(o.setLoading(!1),o.setFormattedData())})).catch((function(t){throw o.setResponse(null),o.setLoading(!1),t}));case 6:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)},n=function(t,e){return r.apply(this,arguments)},this.setLoading(!0),this.updateRequest({since:this.since,until:this.until}),this.setResponse(null),e=1,a=0,o=this,n(e,a);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchBacklogStatus",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e in this._formatData)for(a in this._formatData[e])this._formatData[e][a]&&this._formatData[e][a].fetchBacklogStatus();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"since",get:function(){return"former"===this.period?"".concat(this.year,"-04-21"):"".concat(this.year,"-09-20")}},{key:"until",get:function(){return"former"===this.period?"".concat(this.year,"-09-21"):"".concat(Number(this.year)+1,"-04-20")}},{key:"requestURL",get:function(){switch(this.type){case"base":return"https://toggl.com/reports/api/v2";case"details":return"https://toggl.com/reports/api/v2/details";case"summary":return"https://toggl.com/reports/api/v2/summary";case"weekly":return"https://toggl.com/reports/api/v2/weekly"}}},{key:"getResponse",get:function(){return this.response}},{key:"getRequest",get:function(){return this.request}},{key:"getApiToken",get:function(){return this.apiToken}},{key:"getLoading",get:function(){return this.loading}},{key:"getFormattedData",get:function(){return this._formatData}},{key:"getYear",get:function(){return this.year}},{key:"getPeriod",get:function(){return this.period}},{key:"totalTime",get:function(){var t={estimation:{complete:0,uncomplete:0},achieve:{complete:0,uncomplete:0}};for(var e in this._formatData)for(var a in this._formatData[e])if(this._formatData[e][a]){var o=this._formatData[e][a];o.backlogData&&"完了"===o.backlogData.status.name?(t.estimation.complete=t.estimation.complete+o.backlogData.estimatedHours,t.achieve.complete=t.achieve.complete+o.raw.dur/1e3/3600):o.backlogData&&(t.estimation.uncomplete=t.estimation.uncomplete+o.backlogData.estimatedHours,t.achieve.uncomplete=t.achieve.uncomplete+o.raw.dur/1e3/3600)}return t}}]),e}(m["d"]);Object(u["a"])([m["c"]],A.prototype,"setRequest",null),Object(u["a"])([m["c"]],A.prototype,"updateRequest",null),Object(u["a"])([m["c"]],A.prototype,"setApiToken",null),Object(u["a"])([m["c"]],A.prototype,"setResponse",null),Object(u["a"])([m["c"]],A.prototype,"setAllState",null),Object(u["a"])([m["c"]],A.prototype,"setLoading",null),Object(u["a"])([m["c"]],A.prototype,"setYear",null),Object(u["a"])([m["c"]],A.prototype,"setPeriod",null),Object(u["a"])([m["c"]],A.prototype,"concatData",null),Object(u["a"])([m["c"]],A.prototype,"activateInstance",null),Object(u["a"])([m["c"]],A.prototype,"setFormattedData",null),Object(u["a"])([m["a"]],A.prototype,"recover",null),Object(u["a"])([m["a"]],A.prototype,"doRequest",null),Object(u["a"])([m["a"]],A.prototype,"fetchBacklogStatus",null),A=Object(u["a"])([Object(m["b"])({dynamic:!0,store:O,name:P,namespaced:!0})],A);var x=Object(m["e"])(A),N=function(t){function e(){return Object(s["a"])(this,e),Object(i["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(h["a"])(e,[{key:"created",value:function(){}},{key:"submit",value:function(){this.$modal.pop()}},{key:"togglApiToken",get:function(){return x.getApiToken},set:function(t){x.setApiToken(t)}},{key:"backlogApiToken",get:function(){return T.getApiToken},set:function(t){T.setApiToken(t)}},{key:"backlogWorkSpaceURL",get:function(){return T.getWorkSpaceURL},set:function(t){T.setWrokSpaceURL(t)}},{key:"toggleWorkSpaceId",get:function(){return x.getRequest.workspace_id},set:function(t){x.updateRequest({workspace_id:t})}},{key:"year",get:function(){return x.getYear},set:function(t){x.setYear(t)}},{key:"period",get:function(){return x.getPeriod},set:function(t){x.setPeriod(t)}},{key:"useLocalStorage",get:function(){return b.useLocalStorage},set:function(t){b.useLocalStorage=t}}]),e}(p["b"]);N=Object(u["a"])([Object(p["a"])({components:{}})],N);var q=N,I=q,U=(a("84f22"),a("2877")),W=Object(U["a"])(I,g,d,!1,null,"e8ab4126",null),E=W.exports,B=function(t){function e(){return Object(s["a"])(this,e),Object(i["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(p["b"]);B=Object(u["a"])([Object(p["a"])({components:{Config:E}})],B);var $=B,H=$,F=(a("5c0b"),Object(U["a"])(H,n,r,!1,null,null,null)),Y=F.exports,M=a("8c4f"),z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"section"},[a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:t.fetchToggl}},[t._v("fetch toggl")])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-link",on:{click:t.fetchBacklog}},[t._v("fetch backlog")])])]),a("hr"),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("納品人日（納品済み）")]),a("p",{staticClass:"title"},[t._v(t._s(t.hourToNinnichi(t.totalTime.estimation.complete)))])])]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("実働人日（納品済み）")]),a("p",{staticClass:"title"},[t._v(t._s(t.hourToNinnichi(t.totalTime.achieve.complete)))])])]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("実働人日（未納品）")]),a("p",{staticClass:"title"},[t._v(t._s(t.hourToNinnichi(t.totalTime.achieve.uncomplete)))])])]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("予定人日（未納品込み）")]),a("p",{staticClass:"title"},[t._v(t._s(t.hourToNinnichi(t.totalTime.estimation.complete+t.totalTime.achieve.uncomplete)))])])]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("実働人日（合計）")]),a("p",{staticClass:"title"},[t._v(t._s(t.hourToNinnichi(t.totalTime.achieve.complete+t.totalTime.achieve.uncomplete)))])])])]),a("hr"),t.togglLoading?a("progress",{staticClass:"progress is-small is-primary",attrs:{max:"100"}},[t._v("15%")]):0===t.formattedData.length?[a("h3",{staticClass:"title"},[t._v("No Data")]),a("p",[t._v("please check your "),a("a",{on:{click:function(e){return t.$modal.push("config")}}},[t._v("configrations")]),t._v(".")])]:a("div",{staticClass:"content"},[a("table",{staticClass:"table is-bordered is-striped is-narrow"},[t._l(t.formattedData,(function(e,o){return["noProject"!==o?[a("h4",{key:o+"h4"},[t._v(t._s(o))]),a("tbody",{key:o+"tbody"},[t._m(0,!0),t._l(e,(function(e,n){return a("tr",{key:n,staticClass:"is-danger"},["noProject"!==o?a("td",[e.backlogURL?a("a",{attrs:{href:e.backlogURL,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(o+"-"+n))]):a("span",[t._v(" -")])]):t._e(),a("td",[t._v(" "+t._s(e.raw.description)+" ")]),a("td",[t._v("\n                  "+t._s(e.backlogData&&e.backlogData.estimatedHours?e.backlogData.estimatedHours+"時間":"-")+"\n                ")]),a("td",[t._v(" "+t._s(e.ninnichi)+" ")]),a("td",[e.parentURL?a("a",{attrs:{href:e.parentURL,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(e.parent))]):a("span",[t._v(t._s(e.parent))])]),a("td",[t._v("\n                  "+t._s(e.backlogData&&e.backlogData.status?e.backlogData.status.name:"-")+"\n                ")]),a("td",[e.noEstimatedHours?a("a",{staticClass:"button is-info"},[t._v(" Nodata ")]):e.timeOverTwice?a("a",{staticClass:"button is-danger"},[t._v(" Danger ")]):e.timeOver?a("a",{staticClass:"button is-warning"},[t._v(" Warning ")]):a("a",{staticClass:"button is-success"},[t._v(" Good ")])])])}))],2)]:t._e()]})),a("h4",[t._v("該当プロジェクトなし")]),a("tbody",[t._m(1),t._l(t.formattedData.noProject,(function(e,o){return a("tr",{key:o},[a("td",[t._v("-")]),a("td",[t._v(" "+t._s(e.raw.description)+" ")]),a("td",[t._v(" "+t._s(e.raw.dur)+" ")]),a("td",[t._v("-")])])}))],2)],2),a("div")])],2)])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v(" チケット ")]),a("th",[t._v(" description ")]),a("th",[t._v("予定時間")]),a("th",[t._v("実時間")]),a("th",[t._v("親課題")]),a("th",[t._v("状態")]),a("th",[t._v("結果")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v(" チケット ")]),a("th",[t._v(" description ")]),a("th",[t._v("実時間")]),a("th",[t._v("親課題")])])}],K=function(t){function e(){return Object(s["a"])(this,e),Object(i["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(h["a"])(e,[{key:"hourToNinnichi",value:function(t){return(t/8).toFixed(1)+"日"}},{key:"created",value:function(){}},{key:"fetchToggl",value:function(){x.doRequest()}},{key:"fetchBacklog",value:function(){x.fetchBacklogStatus()}},{key:"togglApiToken",get:function(){return x.getApiToken},set:function(t){x.setApiToken(t)}},{key:"toggleWorkSpaceId",get:function(){return x.getRequest.workspace_id},set:function(t){x.updateRequest({workspace_id:t})}},{key:"res",get:function(){return x.getResponse}},{key:"formattedData",get:function(){return x.getFormattedData}},{key:"useLocalStorage",get:function(){return b.useLocalStorage},set:function(t){b.useLocalStorage=t}},{key:"togglLoading",get:function(){return x.getLoading}},{key:"totalTime",get:function(){return x.totalTime}}]),e}(p["b"]);K=Object(u["a"])([Object(p["a"])({components:{}})],K);var G=K,Q=G,V=(a("66ac"),Object(U["a"])(Q,z,J,!1,null,"e896f038",null)),X=V.exports;o["a"].use(M["a"]);var Z=new M["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:X},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]});function tt(){console.log("initialization start");var t=b.useLocalStorage?window.localStorage["toggl-backlog-aggregator-state"]:window.sessionStorage["toggl-backlog-aggregator-state"];if(console.log(t),t){var e=t?JSON.parse(t):null;console.log(e),x.recover(e),T.recover(e)}}var et=a("95a5");a("7d35");o["a"].use(et["a"]),o["a"].config.productionTip=!1,tt(),new o["a"]({router:Z,store:O,render:function(t){return t(Y)}}).$mount("#app")},e332:function(t,e,a){}});
//# sourceMappingURL=app.cfa7fe9f.js.map